import{i as b,a as q,d as O,b as S,c as x,u as F,R as T,j as I}from"./client-CeGHaAMR.js";function v(t,e){const n=e;return b(n.url),Object.assign(async(a,s)=>n({method:t,payload:a||void 0,requestInit:s?.requestInit}),{url:e.url})}const y="server-fn-return-type",h="server-fn-payload-type";async function N(t,e,n){var a,s;const r=e[0];if(q(r)&&r.method){const o=r,l=o.payload instanceof FormData?"formData":o.payload instanceof Request?"request":"payload",g=new Headers({[h]:l,...l==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...((a=o.requestInit)==null?void 0:a.headers)instanceof Headers?Object.fromEntries(o.requestInit.headers.entries()):((s=o.requestInit)==null?void 0:s.headers)||{}});if(o.method==="GET"){const c=o.payload!==void 0?O({payload:o.payload}).substring(1):"";c&&(t+=`&${c}`)}const R=new Request(t,{...o.requestInit,method:o.method,headers:g,...o.method==="POST"?{body:l==="formData"?o.payload:JSON.stringify(o.payload??null)}:{}}),$=await n(R),i=await w($);if(["rsc"].includes(i.headers.get(y)))return i.body;if(["json"].includes(i.headers.get(y))){const c=await i.text(),d=c?JSON.parse(c):void 0;if(S(d)||x(d))throw d;return d}return i}const j=new Request(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",[h]:"args"},body:JSON.stringify(e)}),p=await w(await n(j)),f=p.headers.get("content-type"),u=await p.text();return f&&f.includes("application/json")?u?JSON.parse(u):void 0:u}async function w(t){if(!t.ok){const e=t.headers.get("content-type"),n=e&&e.includes("application/json"),a=await(async()=>n?await t.json():await t.text())(),s=`Request failed with status ${t.status}`;throw n?new Error(JSON.stringify({message:s,body:a})):new Error([s,`${JSON.stringify(a,null,2)}`].join(`

`))}return t}function _(t,e,n){return`${t}/_server/?_serverFnId=${encodeURI(e)}&_serverFnName=${encodeURI(n)}`}function m(t,e,n){const a=_(window.location.origin,e,n);return Object.assign((...r)=>N(a,r,fetch),{url:a})}const E=v("GET",m(P,"c_1wfb23","$$function0")),J=v("POST",m(H,"c_1wfb23","$$function1")),D=function(){const e=F(),n=T.useLoaderData();return I.jsxs("button",{onClick:()=>{J(1).then(()=>{e.invalidate()})},children:["Add 1 to ",n,"?"]})},U=async()=>await E();function P(){}async function H(t){}export{P as $$function0,H as $$function1,D as component,U as loader};
